---
const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-neutral-200/50">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 h-16 sm:h-20 flex items-center justify-between">
    <div class="flex items-center gap-4 sm:gap-12">
      <a href="/" class="flex items-center gap-2 group">
        <div class="w-7 h-7 sm:w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center text-white font-black text-lg shadow-lg shadow-green-100 group-hover:scale-110 transition-transform">
          n
        </div>
        <span class="font-black text-lg sm:text-xl tracking-tight text-neutral-900">
          nologin<span class="text-green-600">.</span>tools
        </span>
      </a>
      <nav class="hidden md:flex items-center gap-8">
        {[
          { label: 'Tools', path: '/' },
          { label: 'Badge', path: '/badge' },
          { label: 'About', path: '/about' },
        ].map((item) => {
          const isActive = item.path === '/' ? currentPath === '/' : currentPath.startsWith(item.path);
          return (
            <a
              href={item.path}
              class:list={[
                'text-sm font-bold transition-all relative py-2',
                isActive
                  ? 'text-neutral-900'
                  : 'text-neutral-400 hover:text-neutral-900',
              ]}
            >
              {item.label}
              {isActive && <span class="absolute bottom-0 left-0 w-full h-0.5 bg-green-500 rounded-full shadow-[0_2px_4px_rgba(34,197,94,0.3)]" />}
            </a>
          );
        })}
      </nav>
    </div>
    <div class="flex items-center gap-4">
      {currentPath !== '/submit' && (
        <a href="/submit" class="btn-primary">
          Submit Tool
        </a>
      )}
      <button
        id="mobile-menu-btn"
        class="md:hidden p-2.5 bg-neutral-50 rounded-xl text-neutral-500 hover:text-neutral-950 transition-colors"
        aria-label="Toggle menu"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
        >
          <path d="M3 12h18M3 6h18M3 18h18"></path>
        </svg>
      </button>
    </div>
  </div>
  <nav
    id="mobile-menu"
    class="hidden md:hidden border-t border-neutral-100 bg-white px-6 py-6 space-y-4 shadow-xl"
  >
    <a
      href="/"
      class:list={[
        'block text-base font-bold',
        currentPath === '/' ? 'text-green-600' : 'text-neutral-500',
      ]}
    >
      Tools
    </a>
    <a
      href="/badge"
      class:list={[
        'block text-base font-bold',
        currentPath.startsWith('/badge')
          ? 'text-green-600'
          : 'text-neutral-500',
      ]}
    >
      Badge
    </a>
    <a
      href="/about"
      class:list={[
        'block text-base font-bold',
        currentPath === '/about'
          ? 'text-green-600'
          : 'text-neutral-500',
      ]}
    >
      About
    </a>
  </nav>
</header>


<script>
  const btn = document.getElementById('mobile-menu-btn');
  const menu = document.getElementById('mobile-menu');
  btn?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
  });
</script>
