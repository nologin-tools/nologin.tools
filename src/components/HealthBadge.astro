---
import { timeAgo } from '../lib/utils';

interface Props {
  isOnline: boolean | null;
  lastCheckedAt: Date | null;
}

const { isOnline, lastCheckedAt } = Astro.props;
---

{
  isOnline === null ? (
    <span class="inline-flex items-center gap-1.5 text-xs text-neutral-400">
      <span class="w-2 h-2 rounded-full bg-neutral-300" />
      No checks yet
    </span>
  ) : isOnline ? (
    <span class="inline-flex items-center gap-1.5 text-xs text-green-600">
      <span class="w-2 h-2 rounded-full bg-green-500" />
      Online
      {lastCheckedAt && <span class="text-neutral-400">· {timeAgo(lastCheckedAt)}</span>}
    </span>
  ) : (
    <span class="inline-flex items-center gap-1.5 text-xs text-red-500">
      <span class="w-2 h-2 rounded-full bg-red-500" />
      Offline
      {lastCheckedAt && <span class="text-neutral-400">· {timeAgo(lastCheckedAt)}</span>}
    </span>
  )
}
